<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YarÄ±m Kalan Hikayeler â€“ GiriÅŸ (KullanÄ±cÄ± SeÃ§)</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background:#fafafa; }
    header { padding: 16px 20px; background:#111; color:#fff; }
    .container { max-width: 960px; margin: 24px auto; padding: 0 16px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }
    .card { display:block; background:#fff; border:1px solid #eee; border-radius:12px; padding:12px; text-decoration:none; color:#111;
            transition: transform .12s ease, box-shadow .12s ease; }
    .card:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,.06); }
    .card img { width:100%; height:190px; object-fit:cover; border-radius:10px; background:#f2f2f2; }
    .card h3 { margin:10px 0 4px; font-size:18px; }
    .card small { color:#666; }
    .empty { padding:20px; background:#fff; border:1px dashed #ddd; border-radius:10px; color:#555; }
  </style>
</head>
<body>
  <header>
    <strong>YarÄ±m Kalan Hikayeler</strong> â€” GiriÅŸ (KullanÄ±cÄ± SeÃ§)
  </header>

  <main class="container">
    <div id="user-list" class="grid" aria-live="polite"></div>
    <div id="empty" class="empty" style="display:none;">Åžimdilik kullanÄ±cÄ± bulunamadÄ±.</div>
  </main>

  <script>
    // DEMO VERÄ°SÄ° â€” Ä°stersen bunu data/users.json veya users.js'e taÅŸÄ±yacaÄŸÄ±z.
    // FotoÄŸraf yollarÄ±nÄ± projendeki gerÃ§ek dosyalara gÃ¶re gÃ¼ncelle.
    const users = [
      { id: 1, ad: "AyÅŸe", konum: "KadÄ±kÃ¶y",  profilFoto: "assets/img/ayse.jpg", bio: "Kitap kurdu, kÄ±sa mesafe yolcusu." },
      { id: 2, ad: "Zehra", konum: "BeÅŸiktaÅŸ", profilFoto: "assets/img/zehra.jpg", bio: "GÃ¼ne erken baÅŸlayanlardan." },
      { id: 3, ad: "Elif",  konum: "ÃœskÃ¼dar",  profilFoto: "assets/img/elif.jpg",  bio: "Kahve + deniz manzarasÄ± = ðŸ’™" }
    ];

    (function init() {
      const listEl = document.getElementById('user-list');
      const emptyEl = document.getElementById('empty');

      if (!Array.isArray(users) || users.length === 0) {
        emptyEl.style.display = 'block';
        return;
      }

      // KartlarÄ± Ã§iz
      const html = users.map(u => `
        <a class="card" href="#" data-id="${u.id}">
          <img src="${u.profilFoto}" alt="${u.ad}">
          <h3>${u.ad}</h3>
          <small>${u.konum ?? ''}</small>
        </a>
      `).join('');
      listEl.innerHTML = html;

      // TÄ±klanÄ±nca ID'yi kaydet, sonra profil.html'e git
      listEl.addEventListener('click', (e) => {
        const card = e.target.closest('a.card[data-id]');
        if (!card) return;
        e.preventDefault();

        const id = String(card.dataset.id);
        // LocalStorageâ€™a yaz
        localStorage.setItem('secili_kullanici_id', id);

        // GÃ¼venli: yazÄ±ldÄ± mÄ± kontrol edip yÃ¶nlendirelim
        if (localStorage.getItem('secili_kullanici_id') === id) {
          window.location.href = 'profil.html';
        } else {
          // Ã‡ok nadir: yazÄ±lamazsa fallback olarak query param ile gidelim
          window.location.href = 'profil.html?id=' + encodeURIComponent(id);
        }
      });
    })();
  </script>
</body>
</html>
