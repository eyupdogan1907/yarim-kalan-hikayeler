<script>
  async function init() {
    const listEl = document.getElementById('user-list');
    const emptyEl = document.getElementById('empty');

    try {
      const res = await fetch('data/users.json');
      const users = await res.json();

      if (!Array.isArray(users) || users.length === 0) {
        emptyEl.style.display = 'block';
        return;
      }

      const html = users.map(u => `
        <a class="card" href="#" data-id="${u.id}">
          <img src="${u.profilFoto}" alt="${u.ad}">
          <h3>${u.ad}</h3>
          <small>${u.konum ?? ''}</small>
        </a>
      `).join('');
      listEl.innerHTML = html;

      listEl.addEventListener('click', (e) => {
        const card = e.target.closest('a.card[data-id]');
        if (!card) return;
        e.preventDefault();
        const id = String(card.dataset.id);
        localStorage.setItem('secili_kullanici_id', id);
        window.location.href = 'profil.html';
      });
    } catch (err) {
      console.error('Kullanıcı listesi yüklenemedi', err);
      emptyEl.style.display = 'block';
      emptyEl.textContent = 'Kullanıcı verisi yüklenemedi.';
    }
  }

  init();
<script>
(async () => {
  const res = await fetch('data/users.json');
  const users = await res.json();
  console.log('users verisi:', users);
})();
</script>
